(()=>{"use strict";const e="http://127.0.0.1:8787/count",t="article > div.title > a";async function n(){const n=document.querySelectorAll(".page_pv");if(!n)return;const a=function(e){let n={},a=[];switch(n.countType="10",n.urls=a,e.length){case 0:break;case 1:let e=window.location.href,r=window.location.pathname;if(!e||e.length<1||!r||r.length<1)return null;e.includes("/#")&&(e=e.substring(0,e.indexOf("#"))),n.countType="11",a.push(e);break;default:Array.prototype.slice.call(document.querySelectorAll(t),0).forEach((e=>{a.push(e.href)}))}return n}(n);if(!a)return;const r=JSON.stringify(a),o=await async function(t){let n={method:"PUT",mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade",headers:{"Content-Type":"application/json;charset=utf-8"},body:t};try{let t=await fetch(e,n);return 200===t.status?await t.json():null}catch(e){return null}}(r);if(o&&(JSON.stringify(o),o.data&&o.data.sitePV&&(document.querySelector(".site_pv").innerHTML=o.data.sitePV),o.data&&o.data.pages))for(let e=0;e<n.length;e++)n[e].innerHTML=o.data.pages[e].pagePV}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n()})();